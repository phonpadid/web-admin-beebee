import{r as E}from"./role.store-DBlqig8t.js";import{d as q,u as A,k as _,r as M,v as P,f as b,c as t,h as a,i as r,F as T,e as i,a as G,o as w,g as H,j as m,t as u,q as J,s as v}from"./index-DmLjb2yN.js";import{_ as y,I as k}from"./iconify-Bb7yeU_0.js";import{L as K}from"./LineChartOutlined-suE0mfBf.js";import"./axios.config-9RTEzkkw.js";const U=s=>[{title:s("messages.role.name"),dataIndex:"name"},{title:s("messages.role.created_at"),dataIndex:"created_at"},{title:s("messages.role.updated_at"),dataIndex:"updated_at"},{title:s("messages.role.more"),dataIndex:"actions"}],W={class:"text-base font-bold text-blue-500"},X={key:0,class:"flex items-center justify-center gap-2"},oe=q({__name:"ListRoleView",props:{searchQuery:{}},setup(s){const{t:n}=A(),$=_(()=>U(n)),f=s,{getAll:g,setStateFilter:l,state:c,remove:S}=E(),{push:C}=G(),I=e=>{C({name:"editRoles.index",params:{id:e.id}})},L=async e=>{await S(Number(e)),v.success({message:n("popconfirm.message_success.title"),description:n("popconfirm.message_success.messages")}),await g()},N=()=>{v.error({message:n("popconfirm.message_cancel.title"),description:n("popconfirm.message_cancel.messages")})},V=_(()=>({items_per_page:n("pagination.items_per_page")})),d=M({total:0,pageSize:l.limit,current:l.page,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],locale:V,onChange:j});async function j(e,o){d.value.current=e,d.value.pageSize=o,l.page=e,l.limit=o,await g()}P(async()=>{await g(),d.value.total=c.data.total});const R=_(()=>f.searchQuery?c.data.props.filter(e=>Object.values(e).some(o=>String(o).toLowerCase().includes(f.searchQuery.toLowerCase()))):c.data.props);return(e,o)=>{const z=i("a-button"),B=i("a-flex"),F=i("a-divider"),x=i("a-tooltip"),O=i("a-popconfirm"),Q=i("a-table");return w(),b(T,null,[t(B,{justify:"space-between",align:"flex-start"},{default:a(()=>[H("p",W,[t(r(K)),m(" "+u(e.$t("messages.role.item")),1)]),t(z,{type:"primary",onClick:o[0]||(o[0]=p=>r(C)({name:"addRole.index"}))},{default:a(()=>[m(u(e.$t("messages.role.add_role")),1)]),_:1})]),_:1}),t(F,{style:{"margin-top":"10px"}}),t(Q,{scroll:{x:!0},class:"whitespace-nowrap",columns:$.value,dataSource:R.value,pagination:d.value,loading:r(c).isLoading,"row-key":p=>p.id},{bodyCell:a(({column:p,record:h})=>[p.dataIndex==="actions"?(w(),b("div",X,[t(x,null,{title:a(()=>[m(u(e.$t("messages.role.edit")),1)]),default:a(()=>[t(y,{bgColor:"bg-white",textColor:"text-blue-700",onClick:D=>I(h)},{icon:a(()=>[t(r(k),{icon:"solar-pen-bold",width:"18"})]),_:2},1032,["onClick"])]),_:2},1024),t(x,null,{title:a(()=>[m(u(e.$t("messages.role.delete")),1)]),default:a(()=>[t(y,{bgColor:"bg-white hover:text-red-600",textColor:"text-red-600"},{icon:a(()=>[t(O,{title:e.$t("popconfirm.delete.messages"),"ok-text":e.$t("popconfirm.delete.okay"),"cancel-text":e.$t("popconfirm.delete.cancel"),onConfirm:D=>L(h.id),onCancel:N,class:"text-red-600"},{default:a(()=>[t(r(k),{icon:"solar-trash-bin-2-bold",width:"18"})]),_:2},1032,["title","ok-text","cancel-text","onConfirm"])]),_:2},1024)]),_:2},1024)])):J("",!0)]),_:1},8,["columns","dataSource","pagination","loading","row-key"])],64)}}});export{oe as default};
