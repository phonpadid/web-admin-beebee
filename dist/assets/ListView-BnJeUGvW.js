var J=Object.defineProperty;var K=(t,e,o)=>e in t?J(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var I=(t,e,o)=>K(t,typeof e!="symbol"?e+"":e,o);import{z as Q,u as W,A as X,m as L,d as x,r as v,o as b,n as E,i as _,e as d,c as l,j as w,g as f,t as y,v as Y,f as $,h as A,F as j,q as Z,B as D}from"./index-BpXBQnxn.js";import{i as N,a as R,A as tt,s as et,b as at}from"./axios.config-9RTEzkkw.js";import{L as nt}from"./LineChartOutlined-BheXCfHu.js";var ot=Object.defineProperty,st=Object.getOwnPropertyDescriptor,it=(t,e,o,a)=>{for(var n=a>1?void 0:a?st(e,o):e,s=t.length-1,i;s>=0;s--)(i=t[s])&&(n=(a?i(e,o,n):i(n))||n);return a&&n&&ot(e,o,n),n},ct=(t,e)=>(o,a)=>e(o,a,t);let O=class{constructor(t){this._api=t}async create(){console.log("create.")}async getAll(t){const e=await this._api.axios({url:"customer/realestate/list",params:{page:t.page,per_page:t.limit,lang:"en"}}),{data:o,pagination:a}=e.data.data;return{data:{props:o,total:a.total},status:"success"}}};O=it([N(),ct(0,R(tt))],O);var rt=Object.defineProperty,lt=Object.getOwnPropertyDescriptor,pt=(t,e,o,a)=>{for(var n=a>1?void 0:a?lt(e,o):e,s=t.length-1,i;s>=0;s--)(i=t[s])&&(n=(a?i(e,o,n):i(n))||n);return a&&n&&rt(e,o,n),n},ut=(t,e)=>(o,a)=>e(o,a,t);let C=class{constructor(t){this._api=t}async create(){return await this._api.create()}async getAll(t){return await this._api.getAll(t)}};C=pt([N(),ut(0,R(O))],C);var dt=Object.defineProperty,mt=Object.getOwnPropertyDescriptor,_t=(t,e,o,a)=>{for(var n=a>1?void 0:a?mt(e,o):e,s=t.length-1,i;s>=0;s--)(i=t[s])&&(n=(a?i(e,o,n):i(n))||n);return a&&n&&dt(e,o,n),n};let S=class{constructor(t){I(this,"notificationApi");this.notificationApi=t}async success(t){this.notificationApi.success({message:t.message,description:t.description,duration:t.duration,placement:t.placement})}async error(t){this.notificationApi.success({message:t.message,description:t.description,duration:t.duration,placement:t.placement})}async info(t){this.notificationApi.info({message:t.message,description:t.description,duration:t.duration,placement:t.placement})}async warning(t){this.notificationApi.warning({message:t.message,description:t.description,duration:t.duration,placement:t.placement})}async open(t){this.notificationApi.open({message:t.message,description:t.description,duration:t.duration,placement:t.placement})}};S=_t([et()],S);const ft={TOP_LEFT:"topLeft",TOP_RIGHT:"topRight",BOTTOM_LEFT:"bottomLeft",BOTTOM_RIGHT:"bottomRight"},gt=Q("restaurant-store",()=>{const t=W(),e=X("notificationApi"),o=at.resolve(C),a=new S(e),n=L({data:{props:[],total:0},isLoading:!1,btnLoading:!1,error:""}),s=L({page:1,limit:10,filter:{}});async function i(){n.isLoading=!0;const c=await o.getAll({page:s.page,limit:s.limit,filter:s.filter});c&&c.data&&c.status==="success"&&(n.data.props=c.data.props,n.data.total=c.data.total,n.isLoading=!1)}async function p(){await r()}async function r(){a.success({message:t.t("messages.notification"),description:"This is the content of the notification. This is the content of the notification..",duration:5,placement:ft.TOP_RIGHT})}return{getAll:i,create:p,state:n,setStateFilter:s}}),vt=x({__name:"Add",emits:["onSuccess","onHide"],setup(t,{expose:e,emit:o}){const a=v(!1);e({open:a});const n=o,s=async()=>{console.log("Submit Data..."),n("onSuccess")};return(i,p)=>{const r=d("a-button"),c=d("a-modal");return b(),E(c,{open:a.value,"onUpdate:open":p[0]||(p[0]=g=>a.value=g),title:"Create Restaurant",footer:null},{default:_(()=>[l(r,{onClick:s},{default:_(()=>p[1]||(p[1]=[w(" Add Item ")])),_:1})]),_:1},8,["open"])}}}),yt=x({__name:"Edit",props:{data:{}},emits:["onSuccess","onHide"],setup(t,{expose:e,emit:o}){const a=v(!1);e({open:a});const n=o,s=t,i=async()=>{console.log("Submit Data..."),n("onSuccess")};return(p,r)=>{const c=d("a-button"),g=d("a-modal");return b(),E(g,{open:a.value,"onUpdate:open":r[0]||(r[0]=h=>a.value=h),title:"Edit Restaurant",footer:null},{default:_(()=>[f("p",null,y(s.data.name),1),f("p",null,y(s.data.agent_name),1),f("p",null,y(s.data.real_esate_number),1),l(c,{onClick:i},{default:_(()=>r[1]||(r[1]=[w(" Edit Item ")])),_:1})]),_:1},8,["open"])}}}),bt={style:{"font-size":"16px","font-weight":"bold",color:"#1890ff"}},wt=["onClick"],St=x({__name:"ListView",setup(t){const{getAll:e,state:o,setStateFilter:a,create:n}=gt(),s=[{title:"ຊື່ເຈົ້າຂອງ",width:20,dataIndex:"name",key:"name"},{title:"ຊື່ຜູ້ຂາຍ",width:20,dataIndex:"agent_name",key:"agent"},{title:"ເລກບີນ",dataIndex:"real_esate_number",key:"real_number",width:20},{title:"ຈັດການ",key:"operation",width:20}],i=v({total:0,pageSize:a.limit,current:a.page,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],onChange:p});async function p(m,u){i.value.current=m,i.value.pageSize=u,a.page=m,a.limit=u,await e()}const r=v(),c=v(),g=v(),h=m=>{g.value=m,c.value.open=!0},B=async()=>{await n()},F=m=>{console.log(m),D.success("ລຶບສຳເລັດເເລ້ວ...")},z=()=>{D.error("ຍົກເລີກການລຶບ...")},P=()=>{console.log("success...")};return Y(async()=>{await e(),i.value.total=o.data.total}),(m,u)=>{const H=d("a-button"),V=d("a-flex"),M=d("a-divider"),G=d("a-popconfirm"),k=d("a-table");return b(),$(j,null,[l(V,{justify:"space-between",align:"flex-start"},{default:_(()=>[f("p",bt,[l(A(nt)),u[0]||(u[0]=w(" ລາຍການສັ່ງຊື້ "))]),l(H,{type:"primary",onClick:B},{default:_(()=>[w(y(m.$t("messages.btn_create")),1)]),_:1})]),_:1}),l(M,{style:{"margin-top":"10px"}}),l(k,{columns:s,"data-source":A(o).data.props,scroll:{y:500},pagination:i.value,loading:A(o).isLoading},{bodyCell:_(({column:U,record:T})=>[U.key==="operation"?(b(),$(j,{key:0},[f("a",{onClick:q=>h(T)},"ເເກ້ໄຂ",8,wt),u[2]||(u[2]=f("span",{class:"ant-divider-vertical"},null,-1)),l(G,{title:"ເຈົ້າເເນ່ໃຈທີ່ຈະລຶບຂໍ້ມູນນີ້ ຫຼື ບໍ?","ok-text":"ເເມ່ນ","cancel-text":"ບໍ່ເເມ່ນ",onConfirm:q=>F(T.id),onCancel:z},{default:_(()=>u[1]||(u[1]=[f("a",null,"ລຶບອອກ",-1)])),_:2},1032,["onConfirm"])],64)):Z("",!0)]),_:1},8,["data-source","pagination","loading"]),l(vt,{ref_key:"modalAdd",ref:r,onOnSuccess:P},null,512),l(yt,{ref_key:"modalEdit",ref:c,data:g.value,onOnSuccess:P},null,8,["data"])],64)}}});export{St as default};
