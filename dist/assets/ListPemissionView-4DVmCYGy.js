import{p as b}from"./permissions.store-K_Dw0mD3.js";import{d as v,k as l,r as C,v as S,u as L,f as k,c as r,h as F,i as u,F as I,e as c,o as P,g as V,j as z,t as B}from"./index-DmLjb2yN.js";import{L as N}from"./LineChartOutlined-suE0mfBf.js";import"./axios.config-9RTEzkkw.js";const Q=t=>[{title:t("permissions.table_field.id"),dataIndex:"index",key:"index",width:10,customRender:({index:o})=>o+1},{title:t("permissions.table_field.name"),dataIndex:"name"},{title:t("permissions.table_field.code_name"),dataIndex:"codename"}],j={class:"text-base font-bold text-blue-500"},E=v({__name:"ListPemissionView",props:{searchQuery:{}},setup(t){const{getAllPer:o,statePermission:e,setStateFilter:s}=b(),m=l(()=>({items_per_page:d("pagination.items_per_page")})),i=C({total:e.data.total,pageSize:s.limit,current:s.page,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],locale:m,onChange:g});async function g(a,n){i.value.current=a,i.value.pageSize=n,s.page=a,s.limit=n,await o()}S(async()=>{await o(),i.value.total=e.data.total,console.log("data",e.data.props)});const p=t,_=l(()=>{if(!p.searchQuery)return e.data.props;const a=p.searchQuery.toLowerCase();return e.data.props.filter(n=>String(n.name).toLowerCase().includes(a))}),{t:d}=L(),f=l(()=>Q(d));return(a,n)=>{const h=c("a-flex"),x=c("a-divider"),w=c("a-table");return P(),k(I,null,[r(h,{justify:"space-between",align:"flex-start"},{default:F(()=>[V("p",j,[r(u(N)),z(" "+B(a.$t("permissions.label_list")),1)])]),_:1}),r(x,{style:{"margin-top":"10px"}}),r(w,{scroll:{x:!0},class:"whitespace-nowrap",columns:f.value,dataSource:_.value,pagination:i.value,loading:u(e).isLoading,"row-key":y=>y.id},null,8,["columns","dataSource","pagination","loading","row-key"])],64)}}});export{E as default};
